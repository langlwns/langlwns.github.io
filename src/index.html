<html>
  <body>
    <p>
      <button>Декодировать</button>
    </p>
    <canvas id="source" width="600" height="400"></canvas>
    <canvas id="message" width="600" height="400"></canvas>
    <canvas id="solver" width="600" height="400"></canvas>

    <script src="./data.js"></script>
    <script src="./functions.js"></script>
    <script>
      const width = 600;
      const height = 400;
      let Rsec,Bsec,Gsec,Ror,Bor,Gor;
      const key = getEncryptionKey();
      console.log("Ключ шифрования", key);

      document.querySelector("button").addEventListener("click", () => {
        for (let x = 0; x < 5; x++) {
          for (let y = 0; y < 5; y++) {
            // Получение пикселя оригинального сообщения
            const originalPixel = getOriginalPixelColor(x, y);
            Ror = r;
            Bor = b;
            Gor = g;
           
            console.log("R original",r);
            console.log("\n");
              console.log("B original",b);
            console.log("\n");
              console.log("G original",g);
            console.log("\n");
            
            // Получение пикселя зашифрованного сообщения
            const secretPixel = getMessagePixelColor(x, y);
             console.log("R secret",r);
            console.log(" \n");
               console.log("G secret",b);
            console.log(" \n");
               console.log("B secret",b);
            console.log(" \n");
            
            
                 Rsec = r - Ror;
            Bsec = b - Bor;
            Gsec = g  - Gor;
           
            
            
               console.log("R answer after Xor =",Rsec);
            console.log(" \n");
               console.log("G answer after Xor =",Gsec );
            console.log(" \n");
               console.log("B answer after Xor =",Bsec);
            console.log(" \n");
            
            
            
             console.log("R answer 2point = ",Rsec.toString(2));
            console.log(" \n");
               console.log("G answer 2point = ",Gsec.toString(2));
            console.log(" \n");
               console.log("B answer 2point 1=",Bsec.toString(2));
            console.log(" \n");
            
           
            
            
               console.log("typeof( R answer 2point = ",typeof(Rsec.toString(2)));
            console.log(" \n");
               console.log(" typeof(  G answer 2point = ",typeof(Gsec.toString(2)));
            console.log(" \n");
               console.log("typeof(  B answer 2point =",typeof(Bsec.toString(2)));
            console.log(" \n");
            
             console.log("SECRET NUMBER AFTER XOR - ", Rsec.toString(2) + Gsec.toString(2) + Bsec.toString(2)); 
             console.log(" \n");
            
            
            
            
            
            
            //putPixelToSolution(originalPixel, x, y);
          }
        }
      });
    </script>
  </body>
</html>
